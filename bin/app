#!/usr/bin/env node

process.on('SIGINT', function() {
    dogbot.stop(function () {
        process.exit(0);
    });
});

process.once('SIGUSR2', function() {
    dogbot.reload(function () {
        process.kill(process.pid, 'SIGUSR2');
    });
});

process.on('exit', function() {
});

process.on('uncaughtException', function(exception) {
    try {
        dogbot.error(exception);
    } catch (e) {
        console.error(exception.stack);
    }
});

var token = "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjQ1OTcwNjQ1MzAsInYiOjAsImQiOnsidWlkIjoiLUp4VXdCMTBVcDBkUlNLQXlGdHQifSwiaWF0IjoxNDQxMzkxMDg0fQ.qAS5ZRHypw8PgrpQ3E2kcjeO16NH3nS_Ln9BNgz_jIM";

var dogbot = require('../src/dogbot.js')(token);

dogbot.start(function () {
});
